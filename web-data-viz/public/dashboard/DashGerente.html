<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RemoteGuard - Visualize, analise, transforme.</title>
  <link rel="stylesheet" href="../css/dashboard-teste.css">
  <link rel="icon" href="../assets/imgs/logo4-amarela.svg">
</head>

<body>
  <header id="main-header">
    <div class="menu-icone" id="menu-icone">
      <img src="../assets/imgs/2.png" alt="Menu" class="menu-img">
    </div>
    <div class="perfil-wrapper">
      <div class="Ativacao">
        <button>Ajuda</button>
      </div>
    
      <div class="perfil-container">
        <img src="../assets/imgs/a.png" alt="Imagem de Perfil">
        <div class="perfil-text">
          <span class="nome">Gerente</span>
          <span class="legenda">perfil</span>
        </div>
      </div>
    </div>
  </header>

  <nav id="menuhamburguer">
    <div class="logo">
      <img src="../assets/imgs/logo4-amarela.svg" alt="Logo">
    </div>
    <ul class="menu-items">
      <li class="ativo"><a href=""><img src="../assets/imgs/dash.png" alt="Ícone 1">Dashboard</a></li>
      <li class="naoAtivo"><a href=""><img src="../assets/imgs/relatorio.png" alt="Ícone 1">Relatórios</a></li>
      <li class="naoAtivo"><a href=""><img src="../assets/imgs/perfil.png" alt="Ícone 1">Funcionarios</a></li>
      <li class="naoAtivo"><a href="cadastroNote.html"><img src="../assets/imgs/Maquina.png" alt="Ícone 1"> Maquinas</a></li>
      <li class="naoAtivo"><a href=""><img src="../assets/imgs/config.png" alt="Ícone 1">Configuração</a></li>
      <li class="naoAtivo"><a href="../login.html"><img src="../assets/imgs/sair.png" alt="Ícone 1">Sair</a></li>
    </ul>
  </nav>

  <main id="main-Container">
    <div class="controles">
      <select id="select-maquina">
        <option value="">Selecionar Máquina</option>
        <option value="1">Máquina 1</option>
        <option value="2">Máquina 2</option>
        <option value="3">Máquina 3</option>
      </select>
      <select id="select-recurso">
        <option value="">Selecionar recurso</option>
        <option value="ram">Memória RAM</option>
        <option value="cpu">CPU</option>
      </select>
    </div>

    <div class="dashboard">
      <div class="chart-container">
        <div class="mensagem-estilo" id="mensagem-aviso" style="color: red;">Por favor, selecione uma máquina e um recurso para visualizar os dados.</div>
        <canvas class="graficos" id="myChart"></canvas>
      </div>
      <div class="status-boxes">
        <div class="status-card verde"></div>
        <div class="status-card vermelho"></div>
        <div class="status-card amarelo"></div>
      </div>
    </div>

    <div class="cor-botoes">
      <div class="cor-box vermelho"></div>
      <div class="cor-box amarelo"></div>
      <div class="cor-box verde"></div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    let grafico; // Variável global para armazenar a instância do gráfico

    function criarGrafico(data, label, color, backgroundColor) {
      const ctx = document.getElementById('myChart').getContext('2d');

      // Destruir o gráfico anterior, se ele existir
      if (grafico) {
        grafico.destroy();
      }

      // Criar um novo gráfico
      grafico = new Chart(ctx, {
        type: 'line',
        data: {
          labels: Array.from({ length: data.length }, (_, i) => `Dia ${i + 1}`),
          datasets: [{
            label: label,
            data: data,
            borderColor: color,
            borderWidth: 2,
            backgroundColor: backgroundColor,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
              display: true,
              text: `Utilização de ${label}`,
              font: { size: 18 },
              color: '#fff'
            }
            
          },
          scales: {
            y: {
              ticks: {
              color: 'rgba(255, 255, 255, 0.90)' 
            },
            grid: {
              color: 'rgba(255, 255, 255, 0.15)' 
            },
              beginAtZero: true,
              max: 100,
              color: 'rgba(255, 255, 255, 0.90)' 
            },
            x: {
              ticks: {
              color: 'rgba(255, 255, 255, 0.90)' 
            },
              title: {
                display: true,
                text: 'Dias',
                color: '#fff' 
              },
              grid: {
              color: 'rgba(255, 255, 255, 0.15)' 
            },
            }
          }
        }
      });
    }

    function atualizargrafico() {
      const maquina = document.getElementById('select-maquina').value;
      const recurso = document.getElementById('select-recurso').value;
      const mensagemAviso = document.getElementById('mensagem-aviso');
      const canvas = document.getElementById('myChart');

      if (maquina && recurso) {
        mensagemAviso.style.display = 'none'; // Esconder a mensagem de aviso
        canvas.style.display = 'block'; // Mostrar o gráfico
        let data = [];
        let label = '';
        let color = '';
        let backgroundColor = '';

        // Valores diferentes para cada máquina e recurso
        if (recurso === 'ram') {
          if (maquina === '1') {
            data = [60, 62, 64, 63, 65, 66, 67, 69, 68, 70, 55, 33, 66, 90, 39, 55, 60, 62, 64, 63, 65, 66, 67, 69, 68, 70, 55, 33, 66, 68]; // Dados RAM Máquina 1
          } else if (maquina === '2') {
            data = [40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 71, 45, 20, 67, 81, 40, 42, 44, 46, 48, 50, 52, 30, 56, 58, 71, 45, 20, 67, 11]; // Dados RAM Máquina 2
          } else if (maquina === '3') {
            data = [20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 41, 66, 32, 11, 10, 23, 47, 19, 50, 22, 54, 31, 19, 56, 43, 22, 28, 45, 39, 56]; // Dados RAM Máquina 3
          }
          label = 'RAM (%)';
          color = 'rgba(75, 192, 192, 1)';
          backgroundColor = 'rgba(0, 0, 255, 0.5)';
        } else if (recurso === 'cpu') {
          if (maquina === '1') {
            data = [50, 52, 54, 55, 57, 58, 60, 61, 63, 65, 65, 63, 70, 55, 60, 55, 70, 75, 90, 80, 77, 88, 66, 78, 93, 67, 77, 45, 76, 81]; // Dados CPU Máquina 1
          } else if (maquina === '2') {
            data = [30, 32, 34, 35, 37, 38, 40, 41, 43, 45, 33, 42, 54, 22, 45, 56, 22, 45, 50, 29, 45, 37, 25, 23, 24, 29, 30, 36, 43, 20]; // Dados CPU Máquina 2
          } else if (maquina === '3') {
            data = [70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 89, 90, 75, 46, 99, 45, 56, 88, 76, 89, 45, 34, 90, 76, 67, 43, 20, 30, 25, 22]; // Dados CPU Máquina 3
          }
          label = 'CPU (%)';
          color = 'rgba(255, 99, 132, 1)';
          backgroundColor = 'rgba(255, 0, 0, 0.5)';
        }
        label +=` Máquina - ${maquina}`
        criarGrafico(data, label, color, backgroundColor);
      } else {
        mensagemAviso.style.display = 'block'; 
        canvas.style.display = 'none'; co
      }
    }
    document.getElementById('select-maquina').addEventListener('change', atualizargrafico);
    document.getElementById('select-recurso').addEventListener('change', atualizargrafico);

      // Manipulação do menu hamburguer
      document.getElementById('menu-icone').addEventListener('click', function () {
      var menuhamburguer = document.getElementById('menuhamburguer');
      var mainContainer = document.getElementById('main-Container');
      var header = document.getElementById('main-header');

      // Alterna a classe 'open' para o menu e a 'menu-open' para o conteúdo e header
      menuhamburguer.classList.toggle('open');
      document.body.classList.toggle('menu-open');
    });

    const menuItems = document.querySelectorAll('.menu-items li');

menuItems.forEach(item => {
  item.addEventListener('click', function() {
    // Remove a classe 'active' de todos os itens
    menuItems.forEach(el => el.classList.remove('active'));
    // Adiciona a classe 'active' ao item clicado
    this.classList.add('active');
  });
});
  </script>
</body>

</html>
